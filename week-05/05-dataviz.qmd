---
pagetitle: "Data Visualisation"
abstract: |
 This is the fifth of a five part series of lectures as part of the data handling postgraduate module in Atlantic Technological University. 
author: "Eugene Hickey"
date: "May 2023"
host: "Sligo Campus"
institute: "Atlantic Technological University"
strip-comments: true
format: 
  revealjs:
    transition: slide
    transition-speed: fast
    logo: images/atu-logo.png
    footer: "[Statistical Computing](https://vlesligo.atu.ie)"
    # embed-resources: true
    slide-number: c/t
    multiplex: true
    theme: solarized
    show-slide-number: all
    controls: true
    width: 1280
    height: 720
    incremental: false
    auto-stretch: false
    css: [assets/custom.css, assets/tachyons-addon.css]
    include-after: |
      <link rel="stylesheet" href="assets/syntax-highlight.css">
      <link rel="stylesheet" href="../assets/fontawesome-free-6.1.1-web/css/all.min.css">
      <script src="../assets/fontawesome-free-6.1.1-web/js/all.min.js"></script>
callout-icon: false
output-file: index.html
execute:
  echo: true
---

##  {#title-slide background="images/flowers.JPG"}

```{r setup, include = FALSE}
library(tidyverse)

rotating_text <- function(x, align = "top") {
  glue::glue('
<div style="overflow: hidden; height: 1.2em;">
<ul class="content__container__list {align}" style="text-align: {align}">
<li class="content__item">{x[1]}</li>
<li class="content__item">{x[2]}</li>
<li class="content__item">{x[3]}</li>
<li class="content__item">{x[4]}</li>
</ul>
</div>')
}

fa_list <- function(x, incremental = FALSE) {
  icons <- names(x)
  fragment <- ifelse(incremental, "fragment", "")
  items <- glue::glue('<li class="{fragment}"><span class="fa-li"><i class="{icons}"></i></span> {x}</li>')
  paste('<ul class="fa-ul">', 
        paste(items, collapse = "\n"),
        "</ul>", sep = "\n")
}

```

::: title-box
<h2>`r rmarkdown::metadata$pagetitle`</h2>

üë®‚Äçüíª [`r rmarkdown::metadata$author` \@ `r rmarkdown::metadata$institute`]{.author} üë®‚Äçüíª

`r rotating_text(c('<i class="fa-solid fa-envelope"></i> eugene.hickey@tudublin.ie', '<i class="fa-brands fa-mastodon"></i> @eugene100hickey', '<i class="fa-brands fa-github"></i> github.com/eugene100hickey', '<i class="fa-solid fa-globe"></i> www.fizzics.ie'))`
:::

------------------------------------------------------------------------




```{r setup1, include = FALSE}
options(htmltools.dir.version = FALSE)
library(tidyverse)
library(scales)
library(gapminder)
library(flipbookr)
# library(ggrepel)
# library(glue)
# library(waffle)
# library(treemapify)
# library(ggridges)
# library(lubridate)
# library(boxoffice)
# library(knitr)
# library(xaringanExtra)
# library(ggtext)
# library(hrbrthemes)
# library(sf)
# library(cartogram)
# library(tmap)

```

```{r ink-free}
#| cache: false
#| echo: false
sysfonts::font_add("Ink Free", regular = "fonts/Inkfree.ttf")
```


## Basic Picture of ggplot

::: {style="font-size: 80%;"}
- aesthetics
    - values that each individual observation (row) has
    - will be different for each observation
- atrributes
    - values that are shared between all points
    - decide to make everything mint green
- layers
    - each visualisation is built sequentially
    - add features in layers, one on top of the last
    - examples: add a plot title, change an axis scale....
    
:::

---

```{r ggplot-example}
#| echo: false
#| message: false
#| warning: false
#| cache: true
#| fig-height: 6
#| include: true

palmerpenguins::penguins %>% drop_na() %>% 
  ggplot() +
  aes(x = body_mass_g) +
  aes(y = bill_length_mm) + 
  geom_point(size = 3, show.legend = F) +
  aes(colour = species) +
  scale_color_manual(values = c("black", "blue", "grey70")) +
  ggalt::geom_encircle(size = 5, show.legend = FALSE) +
  labs(title = "Bill Length versus Body Mass",
       subtitle = "for <span style = 'color:black;'>Adelie</span>, <span style = 'color:blue;'>Chinstrap</span>, and <span style = 'color:#B0B0B0;'>Gentoo</span> penguins",
       x = "Body Mass (g)",
       y = "Bill Length (mm)",
       caption = "@Data from Palmer Penguins") +
  theme_minimal() + 
  theme(text = element_text(family = "Ink Free", size = 18)) +
  theme(plot.subtitle = element_markdown(size = 24)) + 
  facet_grid(~sex)

```

